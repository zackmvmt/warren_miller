<!DOCTYPE HTML>
<html>
	<head>
	
		<title>Warren Miller Dashboard</title>
		
		<link href="css/bootstrap.min.css" rel="stylesheet">
		
		<style type="text/css">
			body {
				padding-top: 60px;
				padding-bottom: 40px;
			}
			.clear {
				clear: both;
			}
			#save {
				float: right;
				margin-right: 80px;
			}
			#delete {
				float: right;
				margin-right: 20px;
				display: none;
			}
			#cancel {
				float: right;
				margin-right: 20px;
				display: none;
			}
			#deals {
				height: 148px;
				width: 100%;
			}
			.edit_show {
				display: none;
			}
		</style>
		
	</head>
	<body>
	
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a href="#" class="brand">Warren Miller Dashboard</a>
				</div>
			</div>
		</div>
		
		<div class="container" id="app_view">

			<!--<form id="edit_show">
				
			</form>-->
			
			<h3>Shows</h3>
			
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>venue</th>
						<th>date</th>
						<th>time</th>
						<th>city</th>
						<th>state</th>
						<th>zip</th>
						<th>deals</th>
						<th>tickets</th>
						<th>info</th>
					</tr>
				</thead>
				<tbody id="show_list">
					<!-- CONTENT GOES HERE -->
				</tbody>
			</table>
			
		</div>
		
		<script src="js/date.js"></script>
		
		<script type="text/template" id="edit_template">
			<legend>Add a New Show</legend>
			<div class="row">
				<div class="span4">
					<label for="venue">venue</label>
					<input type="text" id="venue" name="venue" value="<%=venue%>" />
					<label for="date">date</label>
					<input type="text" id="date" name="date" value="<%=date%>" />
					<label for="time">time</label>
					<input type="text" id="time" name="time" value="<%=time%>" />
					<label for="info">info link</label>
					<input type="text" id="info" name="link_info" value="<%=link_info%>" />
				</div>
				<div class="span4">
					<label for="city">city</label>
					<input type="text" id="city" name="city" value="<%=city%>" />
					<label for="state">state</label>
					<input type="text" id="state" name="state" value="<%=state%>" />
					<label for="zip">zip</label>
					<input type="text" id="zip" name="zip" value="<%=zip%>" />
					<label for="tix">ticket link</label>
					<input type="text" id="tix" name="link_ticket" value="<%=link_ticket%>" />
				</div>
				<div class="span4">
					<label for="deals">deals</label>
					<textarea id="deals" name="deals"><%=(deals)?deals:''%></textarea>
				</div>
			</div>
			<div id="save" class="btn btn-primary">save</div>
			<div id="delete" class="btn btn-danger">delete</div>
			<div id="cancel" class="btn">cancel</div>
			<div class="clear"></div>
		</script>

		<script type="text/template" id="show_template">
			<td><%=venue%></td>
			<td><%=Date.parse(date).toString('M/d')%></td>
			<td><%=time%></td>
			<td><%=city%></td>
			<td><%=state%></td>
			<td><%=zip%></td>
			<td><%=(deals)?'...':'n/a'%></td>
			<td>
				<%=(link_ticket == '') ? '' :
				'<a href="' + link_ticket + '" target="_blank">link</a>'%>
			</td>
			<td>
				<%=(link_info == '') ? '' :
				'<a href="' + link_info + '" target="_blank">link</a>'%>
			</td>
		</script>

		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>
		<script src="js/rjs.js"></script>
		<script src="js/jquery.gather.js"></script>
		<script src="js/app.js"></script>
		
	</body>
</html>